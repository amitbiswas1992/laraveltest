if (self.CavalryLogger) { CavalryLogger.start_js(["NyMhr"]); }

__d("EnterpriseLabsLoggingEvents",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FOCUS_MODE_MESSAGE_SENT_ASYNC:"enterprise_labs.focus_mode.send_message_async",FOCUS_MODE_MESSAGE_SENT_BYPASSED:"enterprise_labs.focus_mode.send_message_bypassed",FOCUS_MODE_SENT_NO_MESSAGES:"enterprise_labs.focus_mode.sent_no_messages",FOCUS_MODE_BYPASS_THREAD:"enterprise_labs.focus_mode.bypass_thread",FOCUS_MODE_BYPASS_FAILURE:"enterprise_labs.focus_mode.bypass_failure",FOCUS_MODE_MUTE_NOTIFICATION:"enterprise_labs.focus_mode.mute_notification",DUALITY_WARNING_SHOWN:"enterprise_labs.duality.warning_shown",DUALITY_WARNING_DISMISSED:"enterprise_labs.duality.warning_dismissed",DUALITY_SWITCH_USER:"enterprise_labs.duality.switch_user",DUALITY_SWITCH_ACCOUNTS:"enterprise_labs.duality.switch_accounts",TIMEZONE_WARNING_SHOWN:"enterprise_labs.timezone.warning_shown",TIMEZONE_WARNING_IGNORED:"enterprise_labs.timezone.warning_ignored",TIMEZONE_WARNING_DISMISSED:"enterprise_labs.timezone.warning_dismissed",NT_CLICK_TAB_CONVERSATIONS:"enterprise_labs.nt.click.conversations"};}),null);
__d('FPSDisplay.react',['cx','React','requestAnimationFrameAcrossTransitions','setIntervalAcrossTransitions','Visibility'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=14,l=2000,m=1000/60,n=500,o=0,p=0;c('Visibility').addListener(c('Visibility').HIDDEN,q);c('Visibility').addListener(c('Visibility').VISIBLE,q);function q(){if(c('Visibility').isHidden()){o=Date.now();p=0;}else if(o>0)p=Date.now();}function r(u){return Math.floor((k-1)*u)+1+'px';}function s(u){var v=u*255,w=(1-u)*255;return 'rgba('+v.toFixed(0)+','+w.toFixed(0)+',0,1)';}i=babelHelpers.inherits(t,c('React').Component);j=i&&i.prototype;function t(){var u,v;for(var w=arguments.length,x=Array(w),y=0;y<w;y++)x[y]=arguments[y];return u=(v=j.constructor).call.apply(v,[this].concat(x)),this.state={times:[0]},this.$FPSDisplay3=function(z,aa){var ba=Math.min(l,Math.max(m,z)),ca=Math.log(1+l-m),da=Math.log(1+ba-m);return (c('React').createElement('div',{className:"_5g9n",key:'sparkline-'+aa,style:{height:r(da/ca),backgroundColor:s(da/ca)}}));},u;}t.prototype.componentDidMount=function(){var u=Date.now(),v=0;this.$FPSDisplay1=true;var w=function(){if(!c('Visibility').isHidden()){var x=Date.now();v=Math.max(v,x-u-(p-o));p=0;o=0;u=x;}if(this.$FPSDisplay1)c('requestAnimationFrameAcrossTransitions')(w);}.bind(this);this.$FPSDisplay2=c('setIntervalAcrossTransitions')(function(){if(!c('Visibility').isHidden()&&v){var x=this.state.times;x.unshift(v);x.length=Math.min(x.length,10);v=0;this.setState({times:x});}}.bind(this),n);w();};t.prototype.componentWillUnmount=function(){this.$FPSDisplay1=false;clearInterval(this.$FPSDisplay2);};t.prototype.render=function(){return (c('React').createElement('div',{className:"_5g9o"},c('React').createElement('div',{className:"_5g9p"},Math.max.apply(null,this.state.times.slice(0,3)).toFixed(0),'ms'),c('React').createElement('div',{className:"_5g9q"},this.state.times.map(this.$FPSDisplay3))));};f.exports=t;}),null);
__d('GamesReplaceableXOut.react',['cx','AsyncRequest','DOM','DOMContainer.react','GamesReplaceableXOutHelper','GamesXOut.react','Parent','React','ReactDOM'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;'use strict';for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return m=(n=j.constructor).call.apply(n,[this].concat(p)),this.state={pending:false},this.$GamesReplaceableXOut2=function(r){var s=c('ReactDOM').findDOMNode(this),t=r.payload;c('GamesReplaceableXOutHelper').registerAppID(s,t.app_id);c('GamesReplaceableXOutHelper').processQueuedRequests(s);c('ReactDOM').unmountComponentAtNode(s);c('DOM').replace(s,t.el);}.bind(this),this.$GamesReplaceableXOut3=function(){this.setState({pending:true});c('GamesReplaceableXOutHelper').queueRequest(c('ReactDOM').findDOMNode(this),this.$GamesReplaceableXOut4);}.bind(this),this.$GamesReplaceableXOut4=function(){var r=c('ReactDOM').findDOMNode(this),s=c('Parent').byAttribute(r,'data-games-xout-container'),t=c('GamesReplaceableXOutHelper').createURI(s,this.props);this.$GamesReplaceableXOut1=new (c('AsyncRequest'))(t).setHandler(this.$GamesReplaceableXOut2).setMethod('POST');this.$GamesReplaceableXOut1.send();}.bind(this),m;}l.prototype.componentDidMount=function(){'use strict';var m=c('ReactDOM').findDOMNode(this);c('GamesReplaceableXOutHelper').registerAppID(m,this.props.appID);};l.prototype.componentWillUnmount=function(){'use strict';if(this.$GamesReplaceableXOut1)this.$GamesReplaceableXOut1.abandon();};l.prototype.render=function(){'use strict';return (c('React').createElement(c('GamesXOut.react'),{className:this.state.pending?"_4ksu":'',onClick:this.$GamesReplaceableXOut3},c('React').createElement(c('DOMContainer.react'),null,this.props.domChild)));};l.propTypes={unitType:k.string.isRequired,appID:k.string.isRequired,domChild:k.any.isRequired,extraData:k.string.isRequired,attributes:k.string.isRequired};f.exports=l;}),null);
__d('GamesReplaceableXOutContainer.react',['DOMContainer.react','GamesReplaceableXOutHelper','React','ReactDOM'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.componentWillUnmount=function(){c('GamesReplaceableXOutHelper').deleteContainer(c('ReactDOM').findDOMNode(this));};k.prototype.render=function(){return (c('React').createElement(c('DOMContainer.react'),null,this.props.domChild));};function k(){h.apply(this,arguments);}k.propTypes={domChild:j.any.isRequired};f.exports=k;}),null);
__d('EnterpriseLabsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:EnterpriseLabsLoggerConfig',this.$EnterpriseLabsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:EnterpriseLabsLoggerConfig',this.$EnterpriseLabsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$EnterpriseLabsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$EnterpriseLabsTypedLogger1=babelHelpers['extends']({},this.$EnterpriseLabsTypedLogger1,j);return this;};h.prototype.setEntityID=function(j){this.$EnterpriseLabsTypedLogger1.entity_id=j;return this;};h.prototype.setEvent=function(j){this.$EnterpriseLabsTypedLogger1.event=j;return this;};h.prototype.setVC=function(j){this.$EnterpriseLabsTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$EnterpriseLabsTypedLogger1=babelHelpers['extends']({},this.$EnterpriseLabsTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={entity_id:true,event:true,vc:true};f.exports=h;}),null);
__d('WorkAvailabilityStatusFragment',['Relay'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=function(){return {children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'},{alias:'workInfo',children:[{alias:'availabilityStatus',children:[{fieldName:'status',kind:'Field',metadata:{},type:'WorkUserAvailabilityStatusType'},{alias:'endDate',fieldName:'end_date',kind:'Field',metadata:{},type:'Time'}],fieldName:'availability_status',kind:'Field',metadata:{canHaveSubselections:true},type:'WorkUserAvailabilityStatus'},{alias:'dndSettings',children:[{alias:'basicWeeklySchedule',children:[{alias:'startHour',fieldName:'start_hour',kind:'Field',metadata:{},type:'Int'},{alias:'startMinute',fieldName:'start_minute',kind:'Field',metadata:{},type:'Int'},{alias:'endHour',fieldName:'end_hour',kind:'Field',metadata:{},type:'Int'},{alias:'endMinute',fieldName:'end_minute',kind:'Field',metadata:{},type:'Int'}],fieldName:'basic_weekly_schedule',kind:'Field',metadata:{canHaveSubselections:true},type:'DoNotDisturbWeekdaySchedule'},{alias:'basicWeekendSchedule',children:[{alias:'startDay',fieldName:'start_day',kind:'Field',metadata:{},type:'DayOfTheWeek'},{alias:'startHour',fieldName:'start_hour',kind:'Field',metadata:{},type:'Int'},{alias:'startMinute',fieldName:'start_minute',kind:'Field',metadata:{},type:'Int'},{alias:'endDay',fieldName:'end_day',kind:'Field',metadata:{},type:'DayOfTheWeek'},{alias:'endHour',fieldName:'end_hour',kind:'Field',metadata:{},type:'Int'},{alias:'endMinute',fieldName:'end_minute',kind:'Field',metadata:{},type:'Int'}],fieldName:'basic_weekend_schedule',kind:'Field',metadata:{canHaveSubselections:true},type:'DoNotDisturbWeekendsSchedule'},{alias:'isWeeklyScheduleTurnedOn',fieldName:'is_weekly_schedule_turned_on',kind:'Field',metadata:{},type:'Boolean'},{alias:'isWeekendScheduleTurnedOn',fieldName:'is_weekend_schedule_turned_on',kind:'Field',metadata:{},type:'Boolean'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'do_not_disturb_settings',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'WorkUserDoNotDisturbSchedule'}],fieldName:'work_info',kind:'Field',metadata:{canHaveSubselections:true},type:'WorkUserInfo'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'WorkAvailabilityStatusFragmentRelayQL',type:'User'};}();}),null);
__d('WorkAvailabilityStatusChangeSubscription',['invariant','GraphQLSubscription','Relay','WorkAvailabilityStatusFragment'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();i=babelHelpers.inherits(k,c('GraphQLSubscription'));j=i&&i.prototype;k.prototype.getSubscriptionQuery=function(l){!('user_id' in l)?h(0):void 0;return function(m){return {calls:[{kind:'Call',metadata:{},name:'work_availability_status_change_subscribe',value:{kind:'CallVariable',callVariableName:'input'}}],children:[{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('Relay').QL.__frag(m)]),fieldName:'user',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'User'},{fieldName:'client_subscription_id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],kind:'Subscription',metadata:{inputType:'WorkAvailabilityStatusChangeSubscribeData!'},name:'WorkAvailabilityStatusChangeSubscription',responseType:'WorkAvailabilityStatusChangeSubscribeResponsePayload'};}(c('WorkAvailabilityStatusFragment'));};k.prototype.getQueryParams=function(l){return {user_id:l.user_id};};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d("XCheckFocusModeAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/work\/focus_mode\/check\/",{fbid:{type:"FBID",required:true}});}),null);
__d('ChatSubscribeToFocusModeChanges',['AsyncRequest','ImmutableObject','RelayGraphQLSubscriber','RelayGraphQLSubscriptionNetworkLayer','WorkAvailabilityStatusChangeSubscription','XDliteGraphQLSkywalkerController','MercuryServerPayloadPreprocessor','MercuryPayloadSource','WorkUserAvailabilityStatusType','MercuryThreadInformer','XCheckFocusModeAsyncController','MercuryParticipants'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';var h=c('XDliteGraphQLSkywalkerController').getURIBuilder().getURI();c('RelayGraphQLSubscriptionNetworkLayer').injectGraphQLSubscriber(c('RelayGraphQLSubscriber')(h));var i={},j={},k=function m(n,o,p,q){var r=c('MercuryParticipants').getNow(p.id);if(!r)return;var s=c('ImmutableObject').setProperty(r,'is_user_focusing',q);c('MercuryServerPayloadPreprocessor').getForFBID(n).handleUpdate({participants:[s],from_client:false,payload_source:c('MercuryPayloadSource').SERVER_FETCH_PARTICIPANTS});Object.keys(j[o]).forEach(function(t){c('MercuryThreadInformer').getForFBID(n).updatedThread(t);});},l=function m(n,o,p){var q=p.fbid;if(!q)return;if(!p.employee)return;if(n===q)return;if(!j[q])j[q]={};j[q][o]=o;if(i[q])return;var r=c('XCheckFocusModeAsyncController').getURIBuilder().setFBID('fbid',q).getURI();new (c('AsyncRequest'))().setURI(r).setHandler(function(s){var t=s.payload;if(!t)return;k(n,q,p,t.is_user_focusing);}).send();i[q]=new (c('WorkAvailabilityStatusChangeSubscription'))({user_id:q},function(s){var t=s.work_availability_status_change_subscribe.user,u=t?t.work_info:null,v=u?u.availability_status:null;if(v&&v.status&&v.end_date!==null){var w=c('WorkUserAvailabilityStatusType')[v.status],x=w===c('WorkUserAvailabilityStatusType').FOCUS&&v.end_date*1000>Date.now();k(n,q,p,x);}});};f.exports={subscribe:l};}),null);
__d('ChatUserFocusLogging',['ChatDispatcher','ChatTabActions','EnterpriseLabsLoggingEvents','EnterpriseLabsTypedLogger','MercuryDispatcher','MercuryPayloadSource','MercuryThreads'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=c('MercuryDispatcher').get(),i=c('MercuryThreads').get(),j={},k=function n(o,p){try{if(p.payload_source!==c('MercuryPayloadSource').CLIENT_SEND_MESSAGE)return;var r=p.actions||[];r.forEach(function(s){var t=s.thread_id;if(!t||!j[t])return;var u=i.getThreadMetaNow(t);if(!u)return;var v=(u.bypass_focus_mode_until||0)*1000>Date.now();j[s.thread_id].messagesSent=true;var w=v?c('EnterpriseLabsLoggingEvents').FOCUS_MODE_MESSAGE_SENT_BYPASSED:c('EnterpriseLabsLoggingEvents').FOCUS_MODE_MESSAGE_SENT_ASYNC;new (c('EnterpriseLabsTypedLogger'))().setEntityID(t).setEvent(w).log();});}catch(q){return;}},l=function n(o){try{if(o.actionType===c('ChatTabActions').Types.CLOSE_TAB&&(o.reason==='close_click'||o.reason==='close_esc')){var q=j[o.threadID];if(!q)return;if(!q.messagesSent&&!q.closed)new (c('EnterpriseLabsTypedLogger'))().setEntityID(o.threadID).setEvent(c('EnterpriseLabsLoggingEvents').FOCUS_MODE_SENT_NO_MESSAGES).log();q.closed=true;}}catch(p){return;}};h.subscribe('update-messages',k);c('ChatDispatcher').register(l);m.prototype.registerThreadID=function(n){if(j[n]&&!j[n].closed)return;j[n]={messagesSent:false,closed:false};};function m(){}f.exports=new m();}),null);
__d('ChatUserFocusWarning',['MercuryParticipants','MercuryViewer','emptyFunction','ifRequired'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=void 0,i=void 0,j=function m(n){if(!h)c('ifRequired')('ChatUserFocusLogging',function(o){return h=o;},c('emptyFunction'));if(h&&h.registerThreadID)h.registerThreadID(n);},k=function m(n,o,p){if(!i)c('ifRequired')('ChatSubscribeToFocusModeChanges',function(q){i=q;},c('emptyFunction'));if(i&&i.subscribe)i.subscribe(n,o,p);},l={updateUserFocusWarning:function m(n,o,p){c('MercuryParticipants').get(c('MercuryViewer').getID(),function(q){var r=q.employee;if(r)c('MercuryParticipants').getMulti(n.participants,function(s){var t=false;for(var u in s){if(q.id!==s[u].id&&s[u].is_user_focusing)t=true;if(s[u].employee&&q.fbid)k(q.fbid,n.thread_id,s[u]);}if(t){j(n.thread_id);var v=n&&n.bypass_focus_mode_until&&n.bypass_focus_mode_until>Date.now()/1000;o(v);}else p();});});}};f.exports=l;}),null);